# 🚀 DYNAMIXEL 기반 7-DOF 로봇 팔 제어

안녕하세요! 이 프로젝트는 로보티즈 다이나믹셀 AX-12A 모터로 구축된 7자유도(Degrees of Freedom, 7-DOF) 로봇 팔을 위한 종합 제어 및 인터랙션 플랫폼입니다. 이 시스템은 정밀한 수동 제어, 실시간 모션 로깅, 그리고 컴퓨터 비전 및 인공지능 기술을 활용한 다양한 상호작용 및 작업 기능을 통합하여 궁극적으로 로봇 공학 교육용 키트 개발을 목표로 합니다.

---

## 🎯 프로젝트 로드맵 (Project Roadmap)

이 프로젝트는 3단계의 명확하고 구체적인 목표를 가지고 있습니다.

### 1. 중간 목표: Leader-Follower 모방 제어 (Dual Arm Imitation)
**개요:** 현재 제작된 로봇 팔 두 대를 각각 Leader와 Follower로 설정하여 쌍팔 협동 제어(Bimanual Control) 시스템을 구축합니다.  
**핵심 기술:**
- **자세 기록 (Teach Pendant Mode):** 로봇 팔의 토크(Torque)를 해제(OFF)한 상태(Passive Mode)에서 사용자가 직접 Leader 로봇을 움직여 생성한 관절 각도 궤적을 실시간으로 기록합니다.
- **실시간 동기화:** 기록된 관절 위치 데이터를 **시리얼 통신(Serial Communication)**을 통해 Follower 로봇에 전송하여 두 로봇 팔의 움직임을 지연 없이 동기화하고 재현합니다.
- **좌표계 매핑:** 두 로봇의 베이스 좌표계 및 작업 공간을 정확히 정렬하고 Leader의 움직임을 Follower가 동일하게 재현할 수 있도록 정밀한 매핑 로직을 구현합니다.

### 2. 최종 목표: AI 기반 사물 조작 (Pick-and-Place)
**개요:** YOLO를 활용한 컵 인식 및 3차원 위치 계산을 기반으로, 로봇 팔이 컵을 정확하게 집어 원하는 위치로 옮기는 작업을 수행합니다.  
**세부 구현:**
- **공통:** YOLO (You Only Look Once) 모델을 활용하여 컵을 실시간으로 **인식(Detection)**하고, 카메라 영상을 기반으로 컵의 **3차원 공간 위치(X, Y, Z)**를 계산합니다.
- **7-DOF 로봇 접근:** 영상 처리 및 **삼각함수(Triangulation)**를 이용하여 컵의 3D 위치를 계산하고, 이를 기반으로 로봇의 **운동학(Kinematics)**을 직접 계산하여 컵을 집고 지정된 위치로 이동시킵니다.
- **4-DOF 로봇 접근:** ROS (Robot Operating System) 환경에서 MoveIt! 라이브러리의 역기구학(Inverse Kinematics, IK) 솔버를 활용합니다. 이를 통해 컵 위치까지 도달하는 **충돌 회피 경로(Collision-free trajectory)**를 자동으로 계획하고 로봇을 제어하여 컵을 옮깁니다.

### 3. 최종 목표 (교육): 로봇 공학 교육용 키트 개발
**목표:** 지금까지 구현된 모든 핵심 기능과 제어 솔루션을 통합하여 대학생 대상 로봇 공학 교육용 키트를 개발하고 보급합니다.  
**교육 콘텐츠:** 
- 로봇의 직접 조립, 맞춤형 GUI를 통한 제어
- Hand & Face Chaser 체험(비전 시스템 및 HRI 이해)
- AI 기반 사물 이동 기능 실습을 통해 로봇 공학의 핵심 원리 및 최신 기술을 직접 경험할 수 있도록 합니다.

---

## ✨ 핵심 기능 상세 (Detailed Key Features)

### 1. 🖥️ 맞춤형 7-DOF 로봇 제어 대시보드
**기술 스택:** Python 기반의 PyGame을 활용하여 사용자 친화적이고 직관적인 GUI를 구현했습니다.  
- **7-DOF 모터 정의:** 7개의 다이나믹셀 모터는 로봇 팔의 각 관절에 대응하여 다음과 같이 명확히 정의됩니다: M1 (Base), M2 (Shoulder), M3 (Upper_Arm), M4 (Elbow), M5 (Wrist), M7 (Hand).
- **실시간 제어 및 피드백:** 각 모터의 **목표 위치(Target)**와 현재 **피드백 위치(Current)**를 슬라이더 및 수치(다이나믹셀 기준 위치 값)로 동시에 실시간 모니터링합니다.
- **Passivity Mode 및 프리셋:** "Torque ON/OFF" 기능으로 토크를 해제(Passive)하고 로봇을 수동으로 움직일 때, 관절 각도 데이터가 "RX Feedback (Passivity Mode)" 형태로 기록됩니다. 이는 **Teach Pendant (티칭 펜던트)**로 활용됩니다.
- **Custom Preset 기능:** Ctrl + F2로 저장하고, 버튼 또는 F2로 불러오기 기능을 통해 원하는 자세를 쉽게 저장하고 정밀하게 복원할 수 있습니다.

### 2. 🤖 인간-로봇 상호작용 (HRI)
- **비전 기반 추적:** 카메라를 통해 사용자의 얼굴 및 손 동작을 실시간으로 추적하고 인식하는 모듈을 통합했습니다.
- **직관적인 모방 제어:** 사용자의 손 움직임 궤적을 로봇 팔의 엔드 이펙터(End Effector) 움직임으로 변환하여 모방하도록 제어합니다.
- **상호작용적 행동:** 얼굴 인식 기능을 활용하여 로봇이 사용자에게 **주의(Attention)**를 기울이거나 특정 제스처에 반응하는 등, 상호작용의 질을 높이는 데 기여합니다.

### 3. 💾 데이터 로깅 및 분석
- **자동 로깅:** 프로그램 실행 및 동작 중 로봇의 모든 제어 데이터(타임스탬프, 모터 목표값, 현재 피드백 값 등)가 자동으로 CSV 파일(robot_log_YYYYMMDD_HHMMSS.csv 형태)로 기록됩니다.
- **활용:** 이 데이터는 로봇의 성능 분석, 궤적 최적화, 그리고 인공지능 모방 학습을 위한 데이터 셋 구축에 필수적으로 사용됩니다.

---

## 💻 기술 스택 (Tech Stack)

| 구분           | 기술/라이브러리                  | 상세 용도                                             |
|----------------|----------------------------------|------------------------------------------------------|
| **하드웨어**    | Robotis DYNAMIXEL (AX-12A)       | 7-DOF 로봇 팔의 고성능 관절 제어                       |
| **코어 언어**   | Python                           | 전체 시스템의 제어 로직, GUI, 비전 처리 구현           |
| **GUI**         | PyGame                           | 사용자 중심의 실시간 제어 대시보드 구축               |
| **통신**        | Serial Communication, TTL       | PC와 다이나믹셀 모터 간의 고속 명령 및 피드백 교환      |
| **비전/AI**     | YOLO, OpenCV                     | 사물(컵) 인식, 영상 기반 3D 위치 계산, 인간 동작 추적  |
| **로봇 제어**   | ROS, MoveIt!                     | 4-DOF 로봇의 역기구학, 충돌 회피 경로 계획 및 고수준 제어|

---

## ⚙️ 설치 및 실행 (Installation & Execution)

### 1. 환경 설정
**주요 Python 라이브러리 설치:**
```bash
pip install pygame pyserial opencv-python ...
```

---

## 🤝 기여 (Contribution)

이 프로젝트는 로봇 공학의 다양한 분야를 포괄하는 광범위한 로드맵을 가지고 있습니다. 기술적인 논의, 버그 보고, 또는 코드 개선 제안 등 모든 형태의 기여를 환영합니다.  

- **버그 보고:** 프로젝트를 실행하면서 발견한 버그를 GitHub 이슈 트래커에 기록해주세요.
- **기술적 논의:** 로봇 공학 관련 기술적 질문이나 논의가 필요한 경우, 해당 GitHub Discussions 또는 Slack 채널에서 참여해주세요.
- **기여:** 코드 개선, 기능 추가, 문서화 등 기여는 언제나 환영합니다. 기여 전에 먼저 **Issue**를 열어 변경 사항에 대해 논의해주세요.

### 기여 절차:
1. **Fork** 프로젝트
2. **새로운 브랜치**에서 작업 (기여하고 싶은 기능 또는 버그 수정)
3. 변경 사항을 **커밋** 후, **Pull Request** 생성
4. 프로젝트 관리자와 논의 후 변경 사항 통합

**TODO:** 본 프로젝트의 기여자나 연구팀에 대한 정보를 여기에 추가하세요.
